(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(44),a=n.n(r),i=n(22),o=n(123),l=n.n(o),c=n(132),s=Object(i.a)({"Content-Type":"application/json"},{}),u={CREATE_NEW_BLOG:a()(c,"services.create_new_blog.path",""),GET_ALL_BLOG_POSTS:a()(c,"services.get_all_blog_posts.path",""),UPLOAD_BLOG_THUMBNAIL:a()(c,"services.upload_blog_thumbnail","")},d=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){throw new Error({success:!1,cause:t})}};console.info("Default Headers: ",s);var b=function(e){var t=e.host,n=void 0===t?"":t,r=e.path,a=e.method,o=void 0===a?"post":a,c=e.body,u=e.headers,d=void 0===u?s:u,b=Object(i.a)(Object(i.a)({},d),{});return console.log("headers: ",b),l()({method:o,url:"".concat(n).concat(r),data:c,headers:b})},h=function(e){return e.push("/error")},m=function(e,t){return function(){t(),function(e){e.push("/admin/overview")}(e)}},j=function(e){return function(t){return console.error("Custom Error: ",t),h(e)}},p={addNewBlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=a()(e,"thumbnail",null);console.log("fileData: ",r);var i=new FormData;r&&(i.append("thumbnail",r),delete e.thumbnail),i.append("document",JSON.stringify(e));var o={path:u.CREATE_NEW_BLOG,method:"post",body:i};return b(o).then(d).then(m(t,n)).catch(j(t))},getAllBlogPosts:function(e){return b({path:u.GET_ALL_BLOG_POSTS,method:"get"}).then(d).then((function(e){return a()(e,"data.body",{})})).catch(function(e){return function(t){return console.error("Custom Error: ",t),h(e)}}(e))}}},132:function(e){e.exports=JSON.parse('{"services":{"create_new_blog":{"path":"/api/v1/create-new"},"get_all_blog_posts":{"path":"/api/v1/get/posts/"},"upload_blog_thumbnail":{"path":"/api/v1/upload_blog_thumbnail"},"getUserProfile":{"path":"/api/v1/get-user-profile"},"getCandidateProfiles":{"path":"/api/v1/get-candidate-profiles"}}}')},170:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={TITLE:"NANDKUMAR GANGAI",LOGIN_BTN_TEXT:"Login"},a={LEARN_MORE_BTN_TEXT:"Learn more..."}},179:function(e,t,n){"use strict";var r=n(43),a=n(909),i=n(911),o=n(912),l=n(914),c=n(915),s=n(913),u=n(297),d=n.n(u),b=n(170),h=n(2),m=Object(a.a)((function(e){return{root:{flexGrow:1,width:"100%",position:"fixed",top:0,left:0,zIndex:999},menuButton:{marginRight:e.spacing(2)},title:Object(r.a)({flexGrow:1},e.breakpoints.down("sm"),{textAlign:"center"})}})),j=function(e){var t=e.admin,n=void 0!==t&&t,r=m(),a=n;return Object(h.jsx)("div",{className:r.root,children:Object(h.jsx)(i.a,{position:"static",children:Object(h.jsxs)(o.a,{children:[a?Object(h.jsx)(s.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",children:Object(h.jsx)(d.a,{})}):null,Object(h.jsx)(l.a,{variant:"h6",className:r.title,children:b.b.TITLE}),a?Object(h.jsx)(c.a,{color:"inherit",children:b.b.LOGIN_BTN_TEXT}):null]})})})},p=Object(a.a)((function(e){return{children:Object(r.a)({margin:"5rem 10%",marginBottom:"5rem",minHeight:"calc(100vh - 5rem)"},e.breakpoints.down("sm"),{margin:"4rem 5%",minHeight:"calc(100vh - 4rem)"})}}));t.a=function(e){var t=e.children,n=e.admin,r=void 0!==n&&n,a=p();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{admin:r}),Object(h.jsx)("div",{className:a.children,children:t})]})}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(91),a=n.n(r),i=n(169),o=n(62),l=n(0),c=n(123),s=n.n(c),u=n(27),d=n(22),b=function(e,t){var n=t.type,r=t.data;switch(n){case"DELETE_TRANSACTION":return Object(d.a)(Object(d.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==r}))});case"GET_BLOG_POSTS":return Object(d.a)(Object(d.a)({},e),{},{blog_posts:Object(u.a)(r)});case"GET_TRANSACTION":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,transactions:r});case"TRANSACTION_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:r});default:return e}},h=n(122),m=n(2),j={blog_posts:[],error:null,loading:!0},p=Object(l.createContext)(j),f=function(e){var t=e.children,n=Object(l.useReducer)(b,j),r=Object(o.a)(n,2),c=r[0],u=r[1],d=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.getAllBlogPosts();case 3:t=e.sent,u({type:"GET_BLOG_POSTS",data:t.posts}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),u({type:"TRANSACTION_ERROR",data:e.t0.response.data.error||{error:"error occured..."}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json"}},e.next=4,s.a.post("".concat("https://expense-tracker-server-96.herokuapp.com","/api/v1/transactions"),t,n);case 4:r=e.sent,u({type:"ADD_TRANSACTION",data:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u({type:"TRANSACTION_ERROR",data:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(p.Provider,{value:{blog_posts:c.blog_posts,error:c.error,loading:c.loading,getBlogPosts:d,addTransaction:f},children:t})}},864:function(e,t,n){},865:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),o=n.n(i),l=n(22),c=n(12),s=n(133),u=n(183),d=n(302),b=n(905),h=n(906),m=n(2),j=function(e){var t=e.children,n=a.a.useMemo((function(){return Object(d.a)({palette:{type:"light"}})}),[false]);return Object(m.jsxs)(b.a,{theme:n,children:[Object(m.jsx)(h.a,{}),t]})},p=n(43),f=n(301),O=n(916),x=n(915),g=n(909),v=n(914),_=n(910),N=n(867),T=Object(g.a)((function(e){return{formControl:{margin:e.spacing(0),width:"75%"},formLabel:{padding:"0.5rem 0"}}})),C=function(e){var t=e.id,n=e.label,r=e.formik,a=T();return Object(m.jsx)(N.a,{component:"span",error:r.touched[t]&&Boolean(r.errors[t]),className:a.formControl,children:Object(m.jsx)("div",{children:Object(m.jsx)(_.a,{id:t,name:t,label:n,type:"date",fullWidth:!0,className:a.textField,InputLabelProps:{shrink:!0},"aria-label":n,value:r.values[t],onChange:r.handleChange,error:r.touched[t]&&Boolean(r.errors[t]),helperText:r.touched[t]&&r.errors[t]})})})},E=function(e){var t=e.formik,n=e.id,r=e.label,a=e.classNames,i=void 0===a?"":a;return Object(m.jsx)(_.a,{classNames:i,autoComplete:"",name:n,variant:"outlined",fullWidth:!0,id:n,label:r,"aria-label":r,value:t.values[n],onChange:t.handleChange,error:t.touched[n]&&Boolean(t.errors[n]),helperText:t.touched[n]&&t.errors[n]})},w=n(284),B=n(873),k=n(871),y=Object(g.a)((function(e){return{formControl:{margin:e.spacing(0),width:"100%"},formLabel:{padding:"0.5rem 0"}}})),P=function(e){var t=e.id,n=e.label,r=e.formik,a=y();return Object(m.jsxs)(N.a,{component:"span",error:r.touched[t]&&Boolean(r.errors[t]),className:a.formControl,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{component:"legend",className:a.formLabel,children:n}),Object(m.jsx)(w.a,{height:"50vh",value:r.values[t],onChange:function(e){r.setFieldValue(t,e)},preview:"edit"}),null]}),r.touched[t]&&Boolean(r.errors[t])?Object(m.jsx)(B.a,{children:r.touched[t]&&r.errors[t]}):null]})},L=n(870),A=n(874),S=n(917),R=Object(g.a)((function(e){return{formControl:{margin:e.spacing(0),width:"75%"},formLabel:{padding:"0.5rem 0"}}})),I=function(e){var t=e.formik,n=e.id,r=e.label,a=e.menuItems,i=void 0===a?[]:a,o=R();return Object(m.jsxs)(N.a,{variant:"outlined",error:t.touched[n]&&Boolean(t.errors[n]),className:o.formControl,children:[Object(m.jsx)(L.a,{id:"".concat(n,"-label"),children:r}),Object(m.jsx)(A.a,{labelId:n,id:n,name:n,label:r,value:t.values[n],onChange:function(e){return t.handleChange(e)},children:i.map((function(e,t){var n=e.value,r=e.desc;return Object(m.jsx)(S.a,{value:n,children:r},t)}))}),t.touched[n]&&Boolean(t.errors[n])?Object(m.jsx)(B.a,{children:t.touched[n]&&t.errors[n]}):null]})},G=n(868),q=Object(g.a)((function(e){return{formControl:{margin:e.spacing(0),width:"75%"},textField:{border:"1px solid #666",borderRadius:"4px",padding:"12px","&:hover":{border:"1px solid"}},borderRed:{border:"1px solid red"}}})),W=function(e){var t=e.id,n=e.label,r=e.formik,a=q();return Object(m.jsx)(N.a,{component:"span",error:Boolean(r.errors[t]),className:a.formControl,children:Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{component:"legend",className:a.formLabel,children:n}),Object(m.jsx)(G.a,{id:t,name:t,label:n,type:"file",accept:"image/*",fullWidth:!0,className:"".concat(a.textField," ").concat(r.touched[t]&&Boolean(r.errors[t])?a.borderRed:""),InputLabelProps:{shrink:!0},"aria-label":n,onChange:function(e){return r.setFieldValue(t,e.target.files[0])}}),r.touched[t]&&Boolean(r.errors[t])?Object(m.jsx)(B.a,{children:r.touched[t]&&r.errors[t]}):null]})})},D=n(179),F=n(35),z=F.c({title:F.d("Enter blog title").required("Title is required"),sub_title:F.d("Enter sub-title"),quote:F.d("Enter quote"),content:F.d().required("Please add some content in mardown format."),date_publish:F.a("Please select publish date").required("Date is required").nullable("Please select date of publish"),status:F.d("Please select blog status").required("Please select blog status"),author:F.d("Please enter author name").required("Please enter author name"),author_mail:F.d("Enter author's email").email("Enter a valid email").required("Email is required"),thumbnail:F.b("Please upload thumbnail.").required("Thumbnail is required")}),J=n(122),M=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"left",alignItems:"center",flexDirection:"column"},halfWidth:Object(p.a)({width:"50%"},e.breakpoints.down("sm"),{width:"100%"}),inputFile:Object(p.a)({width:"50%",boxSizing:"margin-box"},e.breakpoints.down("sm"),{width:"100%"}),formControl:{width:"100%"}}})),H={title:"",sub_title:"",quote:"",content:"",date_publish:"30-05-2021",status:"published",author:"Nandkumar Gangai",author_mail:"nandkumargangai@gmail.com",thumbnail:""},U=Object(c.g)((function(e){var t=e.history,n=M(),r=Object(f.a)({initialValues:H,validationSchema:z,onSubmit:function(e,n){var r=n.resetForm;console.log(e),J.a.addNewBlog(e,t,r)},enableReinitialize:!0});return Object(m.jsx)(D.a,{admin:!0,children:Object(m.jsx)("section",{children:Object(m.jsx)("form",{onSubmit:r.handleSubmit,children:Object(m.jsxs)(O.a,{container:!0,spacing:3,className:n.root,children:[Object(m.jsxs)(O.a,{item:!0,md:12,xs:12,children:[Object(m.jsx)(v.a,{variant:"h1",children:"Create new blog"}),Object(m.jsx)("hr",{})]}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(E,{id:"title",label:"Enter blog title",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(E,{id:"sub_title",label:"Enter sub title",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(E,{id:"quote",label:"Enter quote",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(P,{id:"content",name:"content",label:"Blog content",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(C,{id:"date_publish",name:"date_publish",label:"Date of publish",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(I,{id:"status",name:"status",label:"Status",menuItems:[{value:"draft",desc:"Draft"},{value:"published",desc:"Published"}],formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.inputFile,children:Object(m.jsx)(W,{id:"thumbnail",name:"thumbnail",label:"Add thumbnail",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(E,{id:"author",name:"author",label:"Enter author's full name",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:12,xs:12,className:n.halfWidth,children:Object(m.jsx)(E,{id:"author_mail",name:"author_mail",label:"Enter author's email id",formik:r})}),Object(m.jsx)(O.a,{item:!0,md:8,xs:12,className:"flex-center",children:Object(m.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.saveBtn,children:"Save Profile"})})]})})})})})),V=[{route:"/",isPrivate:!1,Component:Object(r.lazy)((function(){return n.e(6).then(n.bind(null,941))}))},{route:"/admin/login",isPrivate:!1,Component:Object(r.lazy)((function(){return n.e(7).then(n.bind(null,932))}))},{route:"/blog/:title",isPrivate:!1,Component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,933))}))},{route:"/admin/overview",isPrivate:!1,Component:Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,934))}))},{route:"/admin/new",isPrivate:!1,Component:U}],X=function(){},K=function(){return Object(m.jsx)(c.a,{to:"/login"})},Q=function(e){var t=e.route,n=e.isPrivate,r=e.Component,a=X()||!1;return console.log("login status: ",a),Object(m.jsx)(c.b,{exact:!0,path:t,render:function(e){return n&&X()?Object(m.jsx)(r,Object(l.a)({},e)):n?Object(m.jsx)(K,{}):Object(m.jsx)(r,{})}})},Y=function(e){return e.map(Q)},Z=function(){return Object(m.jsx)(u.b,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(j,{children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)("h1",{children:"Loading..."}),children:Y(V)})})})})};n(864);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(Z,{})}),document.getElementById("root"))}},[[865,1,2]]]);
//# sourceMappingURL=main.7dec82cf.chunk.js.map